{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\tmh73\\\\Aviation Synergy\\\\MaXwell AI - General\\\\HIRA_AppBolt\\\\src-new\\\\src\\\\components\\\\FileUpload.jsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useState, useEffect } from 'react';\nimport { Upload, X, AlertCircle, FileText, Loader } from 'lucide-react';\nimport { uploadFile, deleteFile, validateFiles, formatFileSize, listFiles } from '../services/supabase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function FileUpload({\n  onChange,\n  project_id,\n  initialFiles = []\n}) {\n  _s();\n  const [files, setFiles] = useState([]);\n  const [dragActive, setDragActive] = useState(false);\n  const [isUploading, setIsUploading] = useState(false);\n  const [error, setError] = useState(null);\n  const fileInputRef = useRef(null);\n  const isInitialMount = useRef(true);\n\n  // Load files when component mounts or project_id changes\n  useEffect(() => {\n    const loadFiles = async () => {\n      if (!project_id) return;\n      try {\n        console.log('Loading files for project:', project_id);\n\n        // Get files from storage\n        const storageFiles = await listFiles(project_id);\n        console.log('Files from storage:', storageFiles);\n\n        // Merge with initialFiles if any\n        const mergedFiles = [...initialFiles];\n        const existingPaths = new Set(initialFiles.map(f => f.path));\n        storageFiles.forEach(file => {\n          if (!existingPaths.has(file.path)) {\n            mergedFiles.push(file);\n          }\n        });\n        console.log('Merged files:', mergedFiles);\n        setFiles(mergedFiles);\n      } catch (err) {\n        console.error('Error loading files:', err);\n        setError('Failed to load files. Please try again.');\n      }\n    };\n    loadFiles();\n  }, [project_id]);\n\n  // Notify parent of changes, but not on initial mount\n  useEffect(() => {\n    if (isInitialMount.current) {\n      isInitialMount.current = false;\n    } else {\n      console.log('Notifying parent of file changes:', files);\n      onChange === null || onChange === void 0 ? void 0 : onChange(files);\n    }\n  }, [files, onChange]);\n  const handleUpload = async selectedFiles => {\n    if (!project_id) {\n      setError('Project ID is required for file upload');\n      return;\n    }\n    console.log('Starting upload process:', selectedFiles);\n    setError(null);\n    setIsUploading(true);\n    try {\n      validateFiles(selectedFiles, files);\n      const uploadedFiles = [];\n      for (const file of selectedFiles) {\n        const result = await uploadFile(file, project_id, files);\n        uploadedFiles.push(result);\n      }\n      console.log('Upload complete:', uploadedFiles);\n      setFiles(prev => [...prev, ...uploadedFiles]);\n    } catch (err) {\n      console.error('Upload error:', err);\n      setError(err.message);\n    } finally {\n      setIsUploading(false);\n    }\n  };\n  const handleFileChange = event => {\n    const selectedFiles = Array.from(event.target.files || []);\n    if (selectedFiles.length > 0) {\n      handleUpload(selectedFiles);\n      event.target.value = '';\n    }\n  };\n  const handleDrop = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    setDragActive(false);\n    const droppedFiles = Array.from(e.dataTransfer.files);\n    if (droppedFiles.length > 0) {\n      handleUpload(droppedFiles);\n    }\n  };\n  const handleDragOver = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    setDragActive(true);\n  };\n  const handleDragLeave = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    setDragActive(false);\n  };\n  const handleRemove = async index => {\n    try {\n      const file = files[index];\n      if (file.path) {\n        await deleteFile(file.path, project_id);\n      }\n      setFiles(prev => prev.filter((_, i) => i !== index));\n    } catch (err) {\n      console.error('Delete error:', err);\n      setError('Failed to remove file. Please try again.');\n    }\n  };\n  const handleAreaClick = () => {\n    if (!isUploading && files.length < 5) {\n      var _fileInputRef$current;\n      (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();\n    }\n  };\n  const remainingSize = 50 * 1024 * 1024 - files.reduce((total, file) => total + (file.size || 0), 0);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      onClick: handleAreaClick,\n      className: `relative border-2 rounded-lg p-8 text-center cursor-pointer transition-all duration-200 ${dragActive ? 'border-primary-main bg-primary-lighter' : 'border-neutral-light border-dashed hover:border-primary-main hover:bg-primary-lighter'} ${files.length >= 5 || isUploading ? 'opacity-50 cursor-not-allowed' : ''}`,\n      onDragOver: handleDragOver,\n      onDragLeave: handleDragLeave,\n      onDrop: handleDrop,\n      children: [isUploading ? /*#__PURE__*/_jsxDEV(Loader, {\n        className: \"mx-auto h-12 w-12 text-primary-main animate-spin\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(Upload, {\n        className: \"mx-auto h-12 w-12 text-primary-main transition-colors duration-200 group-hover:text-primary-hover\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          ref: fileInputRef,\n          type: \"file\",\n          className: \"hidden\",\n          onChange: handleFileChange,\n          multiple: true,\n          disabled: files.length >= 5 || isUploading,\n          accept: \"*/*\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: `${files.length >= 5 || isUploading ? 'cursor-not-allowed' : ''}`,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-primary-main font-medium hover:text-primary-hover\",\n            children: \"Click to upload\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-neutral-dark\",\n            children: \" or drag and drop\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mt-2 text-xs text-neutral-main\",\n        children: [\"Any file type accepted \\u2022 Up to \", 5 - files.length, \" more files \\u2022 \", formatFileSize(remainingSize), \" remaining\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-3 bg-accent-lighter border border-accent-main rounded-lg\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center text-sm text-accent-main\",\n        children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n          className: \"h-4 w-4 mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 9\n    }, this), files.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-2\",\n      children: files.map((file, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between p-3 bg-neutral-lighter rounded-lg\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-3 flex-1 min-w-0\",\n          children: [/*#__PURE__*/_jsxDEV(FileText, {\n            className: \"h-5 w-5 text-primary-main flex-shrink-0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1 min-w-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm font-medium text-neutral-dark truncate\",\n              children: file.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-neutral-main\",\n              children: formatFileSize(file.size)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => handleRemove(index),\n          disabled: isUploading,\n          className: `ml-4 text-neutral-main hover:text-accent-main transition-colors duration-200 ${isUploading ? 'opacity-50 cursor-not-allowed' : ''}`,\n          children: /*#__PURE__*/_jsxDEV(X, {\n            className: \"h-4 w-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 15\n        }, this)]\n      }, file.path || file.url || index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 138,\n    columnNumber: 5\n  }, this);\n}\n_s(FileUpload, \"i4MOR74ouTZEdFMU2GLRWvknLQo=\");\n_c = FileUpload;\nvar _c;\n$RefreshReg$(_c, \"FileUpload\");","map":{"version":3,"names":["React","useRef","useState","useEffect","Upload","X","AlertCircle","FileText","Loader","uploadFile","deleteFile","validateFiles","formatFileSize","listFiles","jsxDEV","_jsxDEV","FileUpload","onChange","project_id","initialFiles","_s","files","setFiles","dragActive","setDragActive","isUploading","setIsUploading","error","setError","fileInputRef","isInitialMount","loadFiles","console","log","storageFiles","mergedFiles","existingPaths","Set","map","f","path","forEach","file","has","push","err","current","handleUpload","selectedFiles","uploadedFiles","result","prev","message","handleFileChange","event","Array","from","target","length","value","handleDrop","e","preventDefault","stopPropagation","droppedFiles","dataTransfer","handleDragOver","handleDragLeave","handleRemove","index","filter","_","i","handleAreaClick","_fileInputRef$current","click","remainingSize","reduce","total","size","className","children","onClick","onDragOver","onDragLeave","onDrop","fileName","_jsxFileName","lineNumber","columnNumber","ref","type","multiple","disabled","accept","name","url","_c","$RefreshReg$"],"sources":["C:/Users/tmh73/Aviation Synergy/MaXwell AI - General/HIRA_AppBolt/src-new/src/components/FileUpload.jsx"],"sourcesContent":["import React, { useRef, useState, useEffect } from 'react';\nimport { Upload, X, AlertCircle, FileText, Loader } from 'lucide-react';\nimport { uploadFile, deleteFile, validateFiles, formatFileSize, listFiles } from '../services/supabase';\n\nexport default function FileUpload({ onChange, project_id, initialFiles = [] }) {\n  const [files, setFiles] = useState([]);\n  const [dragActive, setDragActive] = useState(false);\n  const [isUploading, setIsUploading] = useState(false);\n  const [error, setError] = useState(null);\n  const fileInputRef = useRef(null);\n  const isInitialMount = useRef(true);\n\n  // Load files when component mounts or project_id changes\n  useEffect(() => {\n    const loadFiles = async () => {\n      if (!project_id) return;\n\n      try {\n        console.log('Loading files for project:', project_id);\n        \n        // Get files from storage\n        const storageFiles = await listFiles(project_id);\n        console.log('Files from storage:', storageFiles);\n\n        // Merge with initialFiles if any\n        const mergedFiles = [...initialFiles];\n        const existingPaths = new Set(initialFiles.map(f => f.path));\n\n        storageFiles.forEach(file => {\n          if (!existingPaths.has(file.path)) {\n            mergedFiles.push(file);\n          }\n        });\n\n        console.log('Merged files:', mergedFiles);\n        setFiles(mergedFiles);\n      } catch (err) {\n        console.error('Error loading files:', err);\n        setError('Failed to load files. Please try again.');\n      }\n    };\n\n    loadFiles();\n  }, [project_id]);\n\n  // Notify parent of changes, but not on initial mount\n  useEffect(() => {\n    if (isInitialMount.current) {\n      isInitialMount.current = false;\n    } else {\n      console.log('Notifying parent of file changes:', files);\n      onChange?.(files);\n    }\n  }, [files, onChange]);\n\n  const handleUpload = async (selectedFiles) => {\n    if (!project_id) {\n      setError('Project ID is required for file upload');\n      return;\n    }\n\n    console.log('Starting upload process:', selectedFiles);\n    setError(null);\n    setIsUploading(true);\n\n    try {\n      validateFiles(selectedFiles, files);\n      const uploadedFiles = [];\n\n      for (const file of selectedFiles) {\n        const result = await uploadFile(file, project_id, files);\n        uploadedFiles.push(result);\n      }\n\n      console.log('Upload complete:', uploadedFiles);\n      setFiles(prev => [...prev, ...uploadedFiles]);\n    } catch (err) {\n      console.error('Upload error:', err);\n      setError(err.message);\n    } finally {\n      setIsUploading(false);\n    }\n  };\n\n  const handleFileChange = (event) => {\n    const selectedFiles = Array.from(event.target.files || []);\n    if (selectedFiles.length > 0) {\n      handleUpload(selectedFiles);\n      event.target.value = '';\n    }\n  };\n\n  const handleDrop = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setDragActive(false);\n    \n    const droppedFiles = Array.from(e.dataTransfer.files);\n    if (droppedFiles.length > 0) {\n      handleUpload(droppedFiles);\n    }\n  };\n\n  const handleDragOver = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setDragActive(true);\n  };\n\n  const handleDragLeave = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setDragActive(false);\n  };\n\n  const handleRemove = async (index) => {\n    try {\n      const file = files[index];\n      if (file.path) {\n        await deleteFile(file.path, project_id);\n      }\n      setFiles(prev => prev.filter((_, i) => i !== index));\n    } catch (err) {\n      console.error('Delete error:', err);\n      setError('Failed to remove file. Please try again.');\n    }\n  };\n\n  const handleAreaClick = () => {\n    if (!isUploading && files.length < 5) {\n      fileInputRef.current?.click();\n    }\n  };\n\n  const remainingSize = 50 * 1024 * 1024 - files.reduce((total, file) => total + (file.size || 0), 0);\n\n  return (\n    <div className=\"space-y-4\">\n      <div \n        onClick={handleAreaClick}\n        className={`relative border-2 rounded-lg p-8 text-center cursor-pointer transition-all duration-200 ${\n          dragActive \n            ? 'border-primary-main bg-primary-lighter' \n            : 'border-neutral-light border-dashed hover:border-primary-main hover:bg-primary-lighter'\n        } ${files.length >= 5 || isUploading ? 'opacity-50 cursor-not-allowed' : ''}`}\n        onDragOver={handleDragOver}\n        onDragLeave={handleDragLeave}\n        onDrop={handleDrop}\n      >\n        {isUploading ? (\n          <Loader className=\"mx-auto h-12 w-12 text-primary-main animate-spin\" />\n        ) : (\n          <Upload className=\"mx-auto h-12 w-12 text-primary-main transition-colors duration-200 group-hover:text-primary-hover\" />\n        )}\n\n        <div className=\"mt-4\">\n          <input\n            ref={fileInputRef}\n            type=\"file\"\n            className=\"hidden\"\n            onChange={handleFileChange}\n            multiple\n            disabled={files.length >= 5 || isUploading}\n            accept=\"*/*\"\n          />\n          <span className={`${files.length >= 5 || isUploading ? 'cursor-not-allowed' : ''}`}>\n            <span className=\"text-primary-main font-medium hover:text-primary-hover\">\n              Click to upload\n            </span>\n            <span className=\"text-neutral-dark\"> or drag and drop</span>\n          </span>\n        </div>\n\n        <p className=\"mt-2 text-xs text-neutral-main\">\n          Any file type accepted • Up to {5 - files.length} more files • {formatFileSize(remainingSize)} remaining\n        </p>\n      </div>\n\n      {error && (\n        <div className=\"p-3 bg-accent-lighter border border-accent-main rounded-lg\">\n          <div className=\"flex items-center text-sm text-accent-main\">\n            <AlertCircle className=\"h-4 w-4 mr-2\" />\n            <span>{error}</span>\n          </div>\n        </div>\n      )}\n\n      {files.length > 0 && (\n        <div className=\"space-y-2\">\n          {files.map((file, index) => (\n            <div key={file.path || file.url || index} className=\"flex items-center justify-between p-3 bg-neutral-lighter rounded-lg\">\n              <div className=\"flex items-center space-x-3 flex-1 min-w-0\">\n                <FileText className=\"h-5 w-5 text-primary-main flex-shrink-0\" />\n                <div className=\"flex-1 min-w-0\">\n                  <p className=\"text-sm font-medium text-neutral-dark truncate\">\n                    {file.name}\n                  </p>\n                  <p className=\"text-xs text-neutral-main\">\n                    {formatFileSize(file.size)}\n                  </p>\n                </div>\n              </div>\n              <button\n                type=\"button\"\n                onClick={() => handleRemove(index)}\n                disabled={isUploading}\n                className={`ml-4 text-neutral-main hover:text-accent-main transition-colors duration-200 ${\n                  isUploading ? 'opacity-50 cursor-not-allowed' : ''\n                }`}\n              >\n                <X className=\"h-4 w-4\" />\n              </button>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}