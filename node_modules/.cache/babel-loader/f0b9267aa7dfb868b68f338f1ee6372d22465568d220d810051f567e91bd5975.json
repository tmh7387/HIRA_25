{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\tmh73\\\\Aviation Synergy\\\\MaXwell AI - General\\\\HIRA_AppBolt\\\\src-new\\\\src\\\\components\\\\ProjectForm.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { AlertCircle, Plus, X } from 'lucide-react';\nimport useProjectStore from '../stores/projectStore';\nimport { generateProjectId } from '../utils/projectIdGenerator';\nimport FileUpload from './FileUpload';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction FormSection({\n  title,\n  children\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white rounded-lg p-6 mb-8 shadow-sm hover:shadow-md transition-shadow duration-200\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"text-xl font-semibold text-primary-main mb-6 pb-3 border-b-2 border-primary-light\",\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-6\",\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 9,\n    columnNumber: 5\n  }, this);\n}\n_c = FormSection;\nfunction AttendeeFields({\n  attendees,\n  onAttendeeAdd,\n  onAttendeeRemove,\n  onAttendeeChange\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-4\",\n    children: [attendees.map((attendee, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex gap-4 items-start\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: attendee.name,\n          onChange: e => onAttendeeChange(index, 'name', e.target.value),\n          placeholder: \"Name\",\n          className: \"w-full px-4 py-2 rounded-lg border-2 border-neutral-light focus:outline-none focus:border-primary-main hover:border-primary-main transition-colors duration-200\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: attendee.designation,\n          onChange: e => onAttendeeChange(index, 'designation', e.target.value),\n          placeholder: \"Designation\",\n          className: \"w-full px-4 py-2 rounded-lg border-2 border-neutral-light focus:outline-none focus:border-primary-main hover:border-primary-main transition-colors duration-200\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 11\n      }, this), index > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: () => onAttendeeRemove(index),\n        className: \"mt-2 text-neutral-main hover:text-accent-main transition-colors duration-200\",\n        children: /*#__PURE__*/_jsxDEV(X, {\n          className: \"h-5 w-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 13\n      }, this)]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      onClick: onAttendeeAdd,\n      className: \"inline-flex items-center text-sm text-primary-main hover:text-primary-hover transition-colors duration-200\",\n      children: [/*#__PURE__*/_jsxDEV(Plus, {\n        className: \"h-4 w-4 mr-1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), \"Add Attendee\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 5\n  }, this);\n}\n_c2 = AttendeeFields;\nexport default function ProjectForm() {\n  _s();\n  const {\n    currentProject,\n    createProject,\n    updateProject,\n    setCurrentStep\n  } = useProjectStore();\n\n  // Initialize form data from currentProject\n  const [formData, setFormData] = useState(() => ({\n    projectId: (currentProject === null || currentProject === void 0 ? void 0 : currentProject.projectId) || (currentProject === null || currentProject === void 0 ? void 0 : currentProject.project_id) || generateProjectId(),\n    title: (currentProject === null || currentProject === void 0 ? void 0 : currentProject.title) || '',\n    date: (currentProject === null || currentProject === void 0 ? void 0 : currentProject.date) || new Date().toISOString().split('T')[0],\n    facilitator: (currentProject === null || currentProject === void 0 ? void 0 : currentProject.facilitator) || {\n      name: '',\n      designation: ''\n    },\n    attendees: (currentProject === null || currentProject === void 0 ? void 0 : currentProject.attendees) || [{\n      name: '',\n      designation: ''\n    }],\n    operational_desc: (currentProject === null || currentProject === void 0 ? void 0 : currentProject.operational_desc) || '',\n    operational_files: Array.isArray(currentProject === null || currentProject === void 0 ? void 0 : currentProject.operational_files) ? currentProject.operational_files.map(file => ({\n      name: file.name,\n      size: file.size,\n      path: file.path,\n      url: file.url,\n      type: file.type\n    })) : []\n  }));\n\n  // Update form data when currentProject changes\n  useEffect(() => {\n    if (currentProject) {\n      console.log('Updating form data from currentProject:', currentProject);\n      setFormData({\n        projectId: currentProject.projectId || currentProject.project_id,\n        title: currentProject.title || '',\n        date: currentProject.date || new Date().toISOString().split('T')[0],\n        facilitator: currentProject.facilitator || {\n          name: '',\n          designation: ''\n        },\n        attendees: currentProject.attendees || [{\n          name: '',\n          designation: ''\n        }],\n        operational_desc: currentProject.operational_desc || '',\n        operational_files: Array.isArray(currentProject.operational_files) ? currentProject.operational_files.map(file => ({\n          name: file.name,\n          size: file.size,\n          path: file.path,\n          url: file.url,\n          type: file.type\n        })) : []\n      });\n    }\n  }, [currentProject]);\n  const [error, setError] = useState(null);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [touched, setTouched] = useState({});\n  const handleInputChange = (field, value) => {\n    setFormData(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n  const handleBlur = field => {\n    setTouched(prev => ({\n      ...prev,\n      [field]: true\n    }));\n  };\n  const handleFacilitatorChange = (field, value) => {\n    setFormData(prev => ({\n      ...prev,\n      facilitator: {\n        ...prev.facilitator,\n        [field]: value\n      }\n    }));\n  };\n  const handleAttendeeAdd = () => {\n    setFormData(prev => ({\n      ...prev,\n      attendees: [...prev.attendees, {\n        name: '',\n        designation: ''\n      }]\n    }));\n  };\n  const handleAttendeeChange = (index, field, value) => {\n    setFormData(prev => ({\n      ...prev,\n      attendees: prev.attendees.map((attendee, i) => i === index ? {\n        ...attendee,\n        [field]: value\n      } : attendee)\n    }));\n  };\n  const handleAttendeeRemove = index => {\n    setFormData(prev => ({\n      ...prev,\n      attendees: prev.attendees.filter((_, i) => i !== index)\n    }));\n  };\n  const handleFilesChange = files => {\n    console.log('Files changed:', files);\n    setFormData(prev => ({\n      ...prev,\n      operational_files: Array.isArray(files) ? files.map(file => ({\n        name: file.name,\n        size: file.size,\n        path: file.path,\n        url: file.url,\n        type: file.type\n      })) : []\n    }));\n  };\n  const validate = () => {\n    const errors = {};\n    if (!formData.title.trim()) errors.title = 'Project title is required';\n    if (!formData.facilitator.name.trim()) errors.facilitatorName = 'Facilitator name is required';\n    if (!formData.facilitator.designation.trim()) errors.facilitatorDesignation = 'Facilitator designation is required';\n    if (!formData.operational_desc.trim()) errors.operational_desc = 'Operational description is required';\n    return errors;\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setError(null);\n    setIsSubmitting(true);\n    try {\n      const errors = validate();\n      if (Object.keys(errors).length > 0) {\n        setError('Please fill in all required fields');\n        setTouched(Object.keys(errors).reduce((acc, key) => ({\n          ...acc,\n          [key]: true\n        }), {}));\n        return;\n      }\n      const validAttendees = formData.attendees.filter(a => a.name.trim() || a.designation.trim()).map(a => ({\n        name: a.name.trim(),\n        designation: a.designation.trim()\n      }));\n      const projectData = {\n        ...formData,\n        attendees: validAttendees,\n        facilitator: {\n          name: formData.facilitator.name.trim(),\n          designation: formData.facilitator.designation.trim()\n        },\n        operational_desc: formData.operational_desc.trim(),\n        operational_files: formData.operational_files\n      };\n      if (currentProject) {\n        await updateProject(currentProject.projectId, projectData);\n      } else {\n        await createProject(projectData);\n      }\n      setCurrentStep(2);\n    } catch (err) {\n      console.error('Form submission error:', err);\n      setError(err.message);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-4xl mx-auto\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"space-y-8\",\n      children: [error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 bg-accent-light border border-accent-main rounded-lg\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n            className: \"h-5 w-5 text-accent-main mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-accent-dark\",\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(FormSection, {\n        title: \"Basic Information\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-2 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-primary-main mb-1\",\n              children: \"Project ID\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: formData.projectId,\n              readOnly: true,\n              className: \"w-full px-4 py-2 rounded-lg border-2 border-neutral-light bg-neutral-lighter cursor-not-allowed\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-primary-main mb-1\",\n              children: \"Project Title\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: formData.title,\n              onChange: e => handleInputChange('title', e.target.value),\n              onBlur: () => handleBlur('title'),\n              className: `w-full px-4 py-2 rounded-lg border-2 ${touched.title && !formData.title.trim() ? 'border-accent-main focus:border-accent-main' : 'border-neutral-light focus:border-primary-main'} focus:outline-none hover:border-primary-main transition-colors duration-200`,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-primary-main mb-1\",\n            children: \"Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            value: formData.date,\n            onChange: e => handleInputChange('date', e.target.value),\n            className: \"w-full px-4 py-2 rounded-lg border-2 border-neutral-light focus:outline-none focus:border-primary-main hover:border-primary-main transition-colors duration-200\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FormSection, {\n        title: \"Facilitator Information\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-2 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-primary-main mb-1\",\n              children: \"Facilitator Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: formData.facilitator.name,\n              onChange: e => handleFacilitatorChange('name', e.target.value),\n              onBlur: () => handleBlur('facilitatorName'),\n              className: `w-full px-4 py-2 rounded-lg border-2 ${touched.facilitatorName && !formData.facilitator.name.trim() ? 'border-accent-main focus:border-accent-main' : 'border-neutral-light focus:border-primary-main'} focus:outline-none hover:border-primary-main transition-colors duration-200`,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-primary-main mb-1\",\n              children: \"Facilitator Designation\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: formData.facilitator.designation,\n              onChange: e => handleFacilitatorChange('designation', e.target.value),\n              onBlur: () => handleBlur('facilitatorDesignation'),\n              className: `w-full px-4 py-2 rounded-lg border-2 ${touched.facilitatorDesignation && !formData.facilitator.designation.trim() ? 'border-accent-main focus:border-accent-main' : 'border-neutral-light focus:border-primary-main'} focus:outline-none hover:border-primary-main transition-colors duration-200`,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FormSection, {\n        title: \"Attendees\",\n        children: /*#__PURE__*/_jsxDEV(AttendeeFields, {\n          attendees: formData.attendees,\n          onAttendeeAdd: handleAttendeeAdd,\n          onAttendeeRemove: handleAttendeeRemove,\n          onAttendeeChange: handleAttendeeChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FormSection, {\n        title: \"Operational System Description\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: formData.operational_desc,\n            onChange: e => handleInputChange('operational_desc', e.target.value),\n            onBlur: () => handleBlur('operational_desc'),\n            rows: 4,\n            className: `w-full px-4 py-2 rounded-lg border-2 ${touched.operational_desc && !formData.operational_desc.trim() ? 'border-accent-main focus:border-accent-main' : 'border-neutral-light focus:border-primary-main'} focus:outline-none hover:border-primary-main transition-colors duration-200`,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FormSection, {\n        title: \"Operational Context Files\",\n        children: /*#__PURE__*/_jsxDEV(FileUpload, {\n          initialFiles: formData.operational_files,\n          onChange: handleFilesChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-end pt-6 border-t border-neutral-light\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          disabled: isSubmitting,\n          className: `inline-flex items-center px-4 py-2 bg-primary-main text-white rounded-lg font-medium shadow-sm hover:bg-primary-hover hover:shadow-md transition-all duration-200 ${isSubmitting ? 'opacity-50 cursor-not-allowed' : ''}`,\n          children: isSubmitting ? 'Saving...' : 'Next Step'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 227,\n    columnNumber: 5\n  }, this);\n}\n_s(ProjectForm, \"Q51HjOwYjUa+j5gnoL+eaYip12A=\", false, function () {\n  return [useProjectStore];\n});\n_c3 = ProjectForm;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"FormSection\");\n$RefreshReg$(_c2, \"AttendeeFields\");\n$RefreshReg$(_c3, \"ProjectForm\");","map":{"version":3,"names":["React","useState","useEffect","AlertCircle","Plus","X","useProjectStore","generateProjectId","FileUpload","jsxDEV","_jsxDEV","FormSection","title","children","className","fileName","_jsxFileName","lineNumber","columnNumber","_c","AttendeeFields","attendees","onAttendeeAdd","onAttendeeRemove","onAttendeeChange","map","attendee","index","type","value","name","onChange","e","target","placeholder","designation","onClick","_c2","ProjectForm","_s","currentProject","createProject","updateProject","setCurrentStep","formData","setFormData","projectId","project_id","date","Date","toISOString","split","facilitator","operational_desc","operational_files","Array","isArray","file","size","path","url","console","log","error","setError","isSubmitting","setIsSubmitting","touched","setTouched","handleInputChange","field","prev","handleBlur","handleFacilitatorChange","handleAttendeeAdd","handleAttendeeChange","i","handleAttendeeRemove","filter","_","handleFilesChange","files","validate","errors","trim","facilitatorName","facilitatorDesignation","handleSubmit","preventDefault","Object","keys","length","reduce","acc","key","validAttendees","a","projectData","err","message","onSubmit","readOnly","onBlur","required","rows","initialFiles","disabled","_c3","$RefreshReg$"],"sources":["C:/Users/tmh73/Aviation Synergy/MaXwell AI - General/HIRA_AppBolt/src-new/src/components/ProjectForm.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { AlertCircle, Plus, X } from 'lucide-react';\r\nimport useProjectStore from '../stores/projectStore';\r\nimport { generateProjectId } from '../utils/projectIdGenerator';\r\nimport FileUpload from './FileUpload';\r\n\r\nfunction FormSection({ title, children }) {\r\n  return (\r\n    <div className=\"bg-white rounded-lg p-6 mb-8 shadow-sm hover:shadow-md transition-shadow duration-200\">\r\n      <h3 className=\"text-xl font-semibold text-primary-main mb-6 pb-3 border-b-2 border-primary-light\">\r\n        {title}\r\n      </h3>\r\n      <div className=\"space-y-6\">\r\n        {children}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction AttendeeFields({ attendees, onAttendeeAdd, onAttendeeRemove, onAttendeeChange }) {\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      {attendees.map((attendee, index) => (\r\n        <div key={index} className=\"flex gap-4 items-start\">\r\n          <div className=\"flex-1\">\r\n            <input\r\n              type=\"text\"\r\n              value={attendee.name}\r\n              onChange={(e) => onAttendeeChange(index, 'name', e.target.value)}\r\n              placeholder=\"Name\"\r\n              className=\"w-full px-4 py-2 rounded-lg border-2 border-neutral-light focus:outline-none focus:border-primary-main hover:border-primary-main transition-colors duration-200\"\r\n            />\r\n          </div>\r\n          <div className=\"flex-1\">\r\n            <input\r\n              type=\"text\"\r\n              value={attendee.designation}\r\n              onChange={(e) => onAttendeeChange(index, 'designation', e.target.value)}\r\n              placeholder=\"Designation\"\r\n              className=\"w-full px-4 py-2 rounded-lg border-2 border-neutral-light focus:outline-none focus:border-primary-main hover:border-primary-main transition-colors duration-200\"\r\n            />\r\n          </div>\r\n          {index > 0 && (\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => onAttendeeRemove(index)}\r\n              className=\"mt-2 text-neutral-main hover:text-accent-main transition-colors duration-200\"\r\n            >\r\n              <X className=\"h-5 w-5\" />\r\n            </button>\r\n          )}\r\n        </div>\r\n      ))}\r\n\r\n      <button\r\n        type=\"button\"\r\n        onClick={onAttendeeAdd}\r\n        className=\"inline-flex items-center text-sm text-primary-main hover:text-primary-hover transition-colors duration-200\"\r\n      >\r\n        <Plus className=\"h-4 w-4 mr-1\" />\r\n        Add Attendee\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function ProjectForm() {\r\n  const { currentProject, createProject, updateProject, setCurrentStep } = useProjectStore();\r\n\r\n  // Initialize form data from currentProject\r\n  const [formData, setFormData] = useState(() => ({\r\n    projectId: currentProject?.projectId || currentProject?.project_id || generateProjectId(),\r\n    title: currentProject?.title || '',\r\n    date: currentProject?.date || new Date().toISOString().split('T')[0],\r\n    facilitator: currentProject?.facilitator || { name: '', designation: '' },\r\n    attendees: currentProject?.attendees || [{ name: '', designation: '' }],\r\n    operational_desc: currentProject?.operational_desc || '',\r\n    operational_files: Array.isArray(currentProject?.operational_files) \r\n      ? currentProject.operational_files.map(file => ({\r\n          name: file.name,\r\n          size: file.size,\r\n          path: file.path,\r\n          url: file.url,\r\n          type: file.type\r\n        }))\r\n      : []\r\n  }));\r\n\r\n  // Update form data when currentProject changes\r\n  useEffect(() => {\r\n    if (currentProject) {\r\n      console.log('Updating form data from currentProject:', currentProject);\r\n      setFormData({\r\n        projectId: currentProject.projectId || currentProject.project_id,\r\n        title: currentProject.title || '',\r\n        date: currentProject.date || new Date().toISOString().split('T')[0],\r\n        facilitator: currentProject.facilitator || { name: '', designation: '' },\r\n        attendees: currentProject.attendees || [{ name: '', designation: '' }],\r\n        operational_desc: currentProject.operational_desc || '',\r\n        operational_files: Array.isArray(currentProject.operational_files) \r\n          ? currentProject.operational_files.map(file => ({\r\n              name: file.name,\r\n              size: file.size,\r\n              path: file.path,\r\n              url: file.url,\r\n              type: file.type\r\n            }))\r\n          : []\r\n      });\r\n    }\r\n  }, [currentProject]);\r\n\r\n  const [error, setError] = useState(null);\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [touched, setTouched] = useState({});\r\n\r\n  const handleInputChange = (field, value) => {\r\n    setFormData(prev => ({ ...prev, [field]: value }));\r\n  };\r\n\r\n  const handleBlur = (field) => {\r\n    setTouched(prev => ({ ...prev, [field]: true }));\r\n  };\r\n\r\n  const handleFacilitatorChange = (field, value) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      facilitator: { ...prev.facilitator, [field]: value }\r\n    }));\r\n  };\r\n\r\n  const handleAttendeeAdd = () => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      attendees: [...prev.attendees, { name: '', designation: '' }]\r\n    }));\r\n  };\r\n\r\n  const handleAttendeeChange = (index, field, value) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      attendees: prev.attendees.map((attendee, i) =>\r\n        i === index ? { ...attendee, [field]: value } : attendee\r\n      )\r\n    }));\r\n  };\r\n\r\n  const handleAttendeeRemove = (index) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      attendees: prev.attendees.filter((_, i) => i !== index)\r\n    }));\r\n  };\r\n\r\n  const handleFilesChange = (files) => {\r\n    console.log('Files changed:', files);\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      operational_files: Array.isArray(files) \r\n        ? files.map(file => ({\r\n            name: file.name,\r\n            size: file.size,\r\n            path: file.path,\r\n            url: file.url,\r\n            type: file.type\r\n          }))\r\n        : []\r\n    }));\r\n  };\r\n\r\n  const validate = () => {\r\n    const errors = {};\r\n    if (!formData.title.trim()) errors.title = 'Project title is required';\r\n    if (!formData.facilitator.name.trim()) errors.facilitatorName = 'Facilitator name is required';\r\n    if (!formData.facilitator.designation.trim()) errors.facilitatorDesignation = 'Facilitator designation is required';\r\n    if (!formData.operational_desc.trim()) errors.operational_desc = 'Operational description is required';\r\n    return errors;\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError(null);\r\n    setIsSubmitting(true);\r\n\r\n    try {\r\n      const errors = validate();\r\n      if (Object.keys(errors).length > 0) {\r\n        setError('Please fill in all required fields');\r\n        setTouched(Object.keys(errors).reduce((acc, key) => ({ ...acc, [key]: true }), {}));\r\n        return;\r\n      }\r\n\r\n      const validAttendees = formData.attendees\r\n        .filter(a => a.name.trim() || a.designation.trim())\r\n        .map(a => ({\r\n          name: a.name.trim(),\r\n          designation: a.designation.trim()\r\n        }));\r\n\r\n      const projectData = {\r\n        ...formData,\r\n        attendees: validAttendees,\r\n        facilitator: {\r\n          name: formData.facilitator.name.trim(),\r\n          designation: formData.facilitator.designation.trim()\r\n        },\r\n        operational_desc: formData.operational_desc.trim(),\r\n        operational_files: formData.operational_files\r\n      };\r\n\r\n      if (currentProject) {\r\n        await updateProject(currentProject.projectId, projectData);\r\n      } else {\r\n        await createProject(projectData);\r\n      }\r\n\r\n      setCurrentStep(2);\r\n    } catch (err) {\r\n      console.error('Form submission error:', err);\r\n      setError(err.message);\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-4xl mx-auto\">\r\n      <form onSubmit={handleSubmit} className=\"space-y-8\">\r\n        {error && (\r\n          <div className=\"p-4 bg-accent-light border border-accent-main rounded-lg\">\r\n            <div className=\"flex items-center\">\r\n              <AlertCircle className=\"h-5 w-5 text-accent-main mr-2\" />\r\n              <span className=\"text-accent-dark\">{error}</span>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        <FormSection title=\"Basic Information\">\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-primary-main mb-1\">Project ID</label>\r\n              <input\r\n                type=\"text\"\r\n                value={formData.projectId}\r\n                readOnly\r\n                className=\"w-full px-4 py-2 rounded-lg border-2 border-neutral-light bg-neutral-lighter cursor-not-allowed\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-primary-main mb-1\">Project Title</label>\r\n              <input\r\n                type=\"text\"\r\n                value={formData.title}\r\n                onChange={(e) => handleInputChange('title', e.target.value)}\r\n                onBlur={() => handleBlur('title')}\r\n                className={`w-full px-4 py-2 rounded-lg border-2 ${\r\n                  touched.title && !formData.title.trim() \r\n                    ? 'border-accent-main focus:border-accent-main' \r\n                    : 'border-neutral-light focus:border-primary-main'\r\n                } focus:outline-none hover:border-primary-main transition-colors duration-200`}\r\n                required\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-primary-main mb-1\">Date</label>\r\n            <input\r\n              type=\"date\"\r\n              value={formData.date}\r\n              onChange={(e) => handleInputChange('date', e.target.value)}\r\n              className=\"w-full px-4 py-2 rounded-lg border-2 border-neutral-light focus:outline-none focus:border-primary-main hover:border-primary-main transition-colors duration-200\"\r\n              required\r\n            />\r\n          </div>\r\n        </FormSection>\r\n\r\n        <FormSection title=\"Facilitator Information\">\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-primary-main mb-1\">Facilitator Name</label>\r\n              <input\r\n                type=\"text\"\r\n                value={formData.facilitator.name}\r\n                onChange={(e) => handleFacilitatorChange('name', e.target.value)}\r\n                onBlur={() => handleBlur('facilitatorName')}\r\n                className={`w-full px-4 py-2 rounded-lg border-2 ${\r\n                  touched.facilitatorName && !formData.facilitator.name.trim() \r\n                    ? 'border-accent-main focus:border-accent-main' \r\n                    : 'border-neutral-light focus:border-primary-main'\r\n                } focus:outline-none hover:border-primary-main transition-colors duration-200`}\r\n                required\r\n              />\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-primary-main mb-1\">Facilitator Designation</label>\r\n              <input\r\n                type=\"text\"\r\n                value={formData.facilitator.designation}\r\n                onChange={(e) => handleFacilitatorChange('designation', e.target.value)}\r\n                onBlur={() => handleBlur('facilitatorDesignation')}\r\n                className={`w-full px-4 py-2 rounded-lg border-2 ${\r\n                  touched.facilitatorDesignation && !formData.facilitator.designation.trim() \r\n                    ? 'border-accent-main focus:border-accent-main' \r\n                    : 'border-neutral-light focus:border-primary-main'\r\n                } focus:outline-none hover:border-primary-main transition-colors duration-200`}\r\n                required\r\n              />\r\n            </div>\r\n          </div>\r\n        </FormSection>\r\n\r\n        <FormSection title=\"Attendees\">\r\n          <AttendeeFields\r\n            attendees={formData.attendees}\r\n            onAttendeeAdd={handleAttendeeAdd}\r\n            onAttendeeRemove={handleAttendeeRemove}\r\n            onAttendeeChange={handleAttendeeChange}\r\n          />\r\n        </FormSection>\r\n\r\n        <FormSection title=\"Operational System Description\">\r\n          <div>\r\n            <textarea\r\n              value={formData.operational_desc}\r\n              onChange={(e) => handleInputChange('operational_desc', e.target.value)}\r\n              onBlur={() => handleBlur('operational_desc')}\r\n              rows={4}\r\n              className={`w-full px-4 py-2 rounded-lg border-2 ${\r\n                touched.operational_desc && !formData.operational_desc.trim() \r\n                  ? 'border-accent-main focus:border-accent-main' \r\n                  : 'border-neutral-light focus:border-primary-main'\r\n              } focus:outline-none hover:border-primary-main transition-colors duration-200`}\r\n              required\r\n            />\r\n          </div>\r\n        </FormSection>\r\n\r\n        <FormSection title=\"Operational Context Files\">\r\n          <FileUpload\r\n            initialFiles={formData.operational_files}\r\n            onChange={handleFilesChange}\r\n          />\r\n        </FormSection>\r\n\r\n        <div className=\"flex justify-end pt-6 border-t border-neutral-light\">\r\n          <button\r\n            type=\"submit\"\r\n            disabled={isSubmitting}\r\n            className={`inline-flex items-center px-4 py-2 bg-primary-main text-white rounded-lg font-medium shadow-sm hover:bg-primary-hover hover:shadow-md transition-all duration-200 ${\r\n              isSubmitting ? 'opacity-50 cursor-not-allowed' : ''\r\n            }`}\r\n          >\r\n            {isSubmitting ? 'Saving...' : 'Next Step'}\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}