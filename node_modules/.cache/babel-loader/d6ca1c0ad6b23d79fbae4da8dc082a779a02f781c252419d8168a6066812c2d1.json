{"ast":null,"code":"import React,{useRef,useState,useEffect}from'react';import{Upload,X,AlertCircle,FileText,Loader}from'lucide-react';import{uploadFile,deleteFile,validateFiles,formatFileSize,listFiles}from'../services/supabase';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function FileUpload(_ref){let{onChange,project_id,initialFiles=[]}=_ref;const[files,setFiles]=useState([]);const[dragActive,setDragActive]=useState(false);const[isUploading,setIsUploading]=useState(false);const[error,setError]=useState(null);const fileInputRef=useRef(null);const isInitialMount=useRef(true);// Load files when component mounts or project_id changes\nuseEffect(()=>{const loadFiles=async()=>{if(!project_id)return;try{console.log('Loading files for project:',project_id);// Get files from storage\nconst storageFiles=await listFiles(project_id);console.log('Files from storage:',storageFiles);// Merge with initialFiles if any\nconst mergedFiles=[...initialFiles];const existingPaths=new Set(initialFiles.map(f=>f.path));storageFiles.forEach(file=>{if(!existingPaths.has(file.path)){mergedFiles.push(file);}});console.log('Merged files:',mergedFiles);setFiles(mergedFiles);}catch(err){console.error('Error loading files:',err);setError('Failed to load files. Please try again.');}};loadFiles();},[project_id]);// Notify parent of changes, but not on initial mount\nuseEffect(()=>{if(isInitialMount.current){isInitialMount.current=false;}else{console.log('Notifying parent of file changes:',files);onChange===null||onChange===void 0?void 0:onChange(files);}},[files,onChange]);const handleUpload=async selectedFiles=>{if(!project_id){setError('Project ID is required for file upload');return;}console.log('Starting upload process:',selectedFiles);setError(null);setIsUploading(true);try{validateFiles(selectedFiles,files);const uploadedFiles=[];for(const file of selectedFiles){const result=await uploadFile(file,project_id,files);uploadedFiles.push(result);}console.log('Upload complete:',uploadedFiles);setFiles(prev=>[...prev,...uploadedFiles]);}catch(err){console.error('Upload error:',err);setError(err.message);}finally{setIsUploading(false);}};const handleFileChange=event=>{const selectedFiles=Array.from(event.target.files||[]);if(selectedFiles.length>0){handleUpload(selectedFiles);event.target.value='';}};const handleDrop=e=>{e.preventDefault();e.stopPropagation();setDragActive(false);const droppedFiles=Array.from(e.dataTransfer.files);if(droppedFiles.length>0){handleUpload(droppedFiles);}};const handleDragOver=e=>{e.preventDefault();e.stopPropagation();setDragActive(true);};const handleDragLeave=e=>{e.preventDefault();e.stopPropagation();setDragActive(false);};const handleRemove=async index=>{try{const file=files[index];if(file.path){await deleteFile(file.path,project_id);}setFiles(prev=>prev.filter((_,i)=>i!==index));}catch(err){console.error('Delete error:',err);setError('Failed to remove file. Please try again.');}};const handleAreaClick=()=>{if(!isUploading&&files.length<5){var _fileInputRef$current;(_fileInputRef$current=fileInputRef.current)===null||_fileInputRef$current===void 0?void 0:_fileInputRef$current.click();}};const remainingSize=50*1024*1024-files.reduce((total,file)=>total+(file.size||0),0);return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{onClick:handleAreaClick,className:`relative border-2 rounded-lg p-8 text-center cursor-pointer transition-all duration-200 ${dragActive?'border-primary-main bg-primary-lighter':'border-neutral-light border-dashed hover:border-primary-main hover:bg-primary-lighter'} ${files.length>=5||isUploading?'opacity-50 cursor-not-allowed':''}`,onDragOver:handleDragOver,onDragLeave:handleDragLeave,onDrop:handleDrop,children:[isUploading?/*#__PURE__*/_jsx(Loader,{className:\"mx-auto h-12 w-12 text-primary-main animate-spin\"}):/*#__PURE__*/_jsx(Upload,{className:\"mx-auto h-12 w-12 text-primary-main transition-colors duration-200 group-hover:text-primary-hover\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsx(\"input\",{ref:fileInputRef,type:\"file\",className:\"hidden\",onChange:handleFileChange,multiple:true,disabled:files.length>=5||isUploading,accept:\"*/*\"}),/*#__PURE__*/_jsxs(\"span\",{className:`${files.length>=5||isUploading?'cursor-not-allowed':''}`,children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-primary-main font-medium hover:text-primary-hover\",children:\"Click to upload\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-neutral-dark\",children:\" or drag and drop\"})]})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-2 text-xs text-neutral-main\",children:[\"Any file type accepted \\u2022 Up to \",5-files.length,\" more files \\u2022 \",formatFileSize(remainingSize),\" remaining\"]})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-accent-lighter border border-accent-main rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-accent-main\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"h-4 w-4 mr-2\"}),/*#__PURE__*/_jsx(\"span\",{children:error})]})}),files.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:files.map((file,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-3 bg-neutral-lighter rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 flex-1 min-w-0\",children:[/*#__PURE__*/_jsx(FileText,{className:\"h-5 w-5 text-primary-main flex-shrink-0\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-neutral-dark truncate\",children:file.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-neutral-main\",children:formatFileSize(file.size)})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>handleRemove(index),disabled:isUploading,className:`ml-4 text-neutral-main hover:text-accent-main transition-colors duration-200 ${isUploading?'opacity-50 cursor-not-allowed':''}`,children:/*#__PURE__*/_jsx(X,{className:\"h-4 w-4\"})})]},file.path||file.url||index))})]});}","map":{"version":3,"names":["React","useRef","useState","useEffect","Upload","X","AlertCircle","FileText","Loader","uploadFile","deleteFile","validateFiles","formatFileSize","listFiles","jsx","_jsx","jsxs","_jsxs","FileUpload","_ref","onChange","project_id","initialFiles","files","setFiles","dragActive","setDragActive","isUploading","setIsUploading","error","setError","fileInputRef","isInitialMount","loadFiles","console","log","storageFiles","mergedFiles","existingPaths","Set","map","f","path","forEach","file","has","push","err","current","handleUpload","selectedFiles","uploadedFiles","result","prev","message","handleFileChange","event","Array","from","target","length","value","handleDrop","e","preventDefault","stopPropagation","droppedFiles","dataTransfer","handleDragOver","handleDragLeave","handleRemove","index","filter","_","i","handleAreaClick","_fileInputRef$current","click","remainingSize","reduce","total","size","className","children","onClick","onDragOver","onDragLeave","onDrop","ref","type","multiple","disabled","accept","name","url"],"sources":["C:/Users/tmh73/Aviation Synergy/MaXwell AI - General/HIRA_AppBolt/src-new/src/components/FileUpload.jsx"],"sourcesContent":["import React, { useRef, useState, useEffect } from 'react';\nimport { Upload, X, AlertCircle, FileText, Loader } from 'lucide-react';\nimport { uploadFile, deleteFile, validateFiles, formatFileSize, listFiles } from '../services/supabase';\n\nexport default function FileUpload({ onChange, project_id, initialFiles = [] }) {\n  const [files, setFiles] = useState([]);\n  const [dragActive, setDragActive] = useState(false);\n  const [isUploading, setIsUploading] = useState(false);\n  const [error, setError] = useState(null);\n  const fileInputRef = useRef(null);\n  const isInitialMount = useRef(true);\n\n  // Load files when component mounts or project_id changes\n  useEffect(() => {\n    const loadFiles = async () => {\n      if (!project_id) return;\n\n      try {\n        console.log('Loading files for project:', project_id);\n        \n        // Get files from storage\n        const storageFiles = await listFiles(project_id);\n        console.log('Files from storage:', storageFiles);\n\n        // Merge with initialFiles if any\n        const mergedFiles = [...initialFiles];\n        const existingPaths = new Set(initialFiles.map(f => f.path));\n\n        storageFiles.forEach(file => {\n          if (!existingPaths.has(file.path)) {\n            mergedFiles.push(file);\n          }\n        });\n\n        console.log('Merged files:', mergedFiles);\n        setFiles(mergedFiles);\n      } catch (err) {\n        console.error('Error loading files:', err);\n        setError('Failed to load files. Please try again.');\n      }\n    };\n\n    loadFiles();\n  }, [project_id]);\n\n  // Notify parent of changes, but not on initial mount\n  useEffect(() => {\n    if (isInitialMount.current) {\n      isInitialMount.current = false;\n    } else {\n      console.log('Notifying parent of file changes:', files);\n      onChange?.(files);\n    }\n  }, [files, onChange]);\n\n  const handleUpload = async (selectedFiles) => {\n    if (!project_id) {\n      setError('Project ID is required for file upload');\n      return;\n    }\n\n    console.log('Starting upload process:', selectedFiles);\n    setError(null);\n    setIsUploading(true);\n\n    try {\n      validateFiles(selectedFiles, files);\n      const uploadedFiles = [];\n\n      for (const file of selectedFiles) {\n        const result = await uploadFile(file, project_id, files);\n        uploadedFiles.push(result);\n      }\n\n      console.log('Upload complete:', uploadedFiles);\n      setFiles(prev => [...prev, ...uploadedFiles]);\n    } catch (err) {\n      console.error('Upload error:', err);\n      setError(err.message);\n    } finally {\n      setIsUploading(false);\n    }\n  };\n\n  const handleFileChange = (event) => {\n    const selectedFiles = Array.from(event.target.files || []);\n    if (selectedFiles.length > 0) {\n      handleUpload(selectedFiles);\n      event.target.value = '';\n    }\n  };\n\n  const handleDrop = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setDragActive(false);\n    \n    const droppedFiles = Array.from(e.dataTransfer.files);\n    if (droppedFiles.length > 0) {\n      handleUpload(droppedFiles);\n    }\n  };\n\n  const handleDragOver = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setDragActive(true);\n  };\n\n  const handleDragLeave = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setDragActive(false);\n  };\n\n  const handleRemove = async (index) => {\n    try {\n      const file = files[index];\n      if (file.path) {\n        await deleteFile(file.path, project_id);\n      }\n      setFiles(prev => prev.filter((_, i) => i !== index));\n    } catch (err) {\n      console.error('Delete error:', err);\n      setError('Failed to remove file. Please try again.');\n    }\n  };\n\n  const handleAreaClick = () => {\n    if (!isUploading && files.length < 5) {\n      fileInputRef.current?.click();\n    }\n  };\n\n  const remainingSize = 50 * 1024 * 1024 - files.reduce((total, file) => total + (file.size || 0), 0);\n\n  return (\n    <div className=\"space-y-4\">\n      <div \n        onClick={handleAreaClick}\n        className={`relative border-2 rounded-lg p-8 text-center cursor-pointer transition-all duration-200 ${\n          dragActive \n            ? 'border-primary-main bg-primary-lighter' \n            : 'border-neutral-light border-dashed hover:border-primary-main hover:bg-primary-lighter'\n        } ${files.length >= 5 || isUploading ? 'opacity-50 cursor-not-allowed' : ''}`}\n        onDragOver={handleDragOver}\n        onDragLeave={handleDragLeave}\n        onDrop={handleDrop}\n      >\n        {isUploading ? (\n          <Loader className=\"mx-auto h-12 w-12 text-primary-main animate-spin\" />\n        ) : (\n          <Upload className=\"mx-auto h-12 w-12 text-primary-main transition-colors duration-200 group-hover:text-primary-hover\" />\n        )}\n\n        <div className=\"mt-4\">\n          <input\n            ref={fileInputRef}\n            type=\"file\"\n            className=\"hidden\"\n            onChange={handleFileChange}\n            multiple\n            disabled={files.length >= 5 || isUploading}\n            accept=\"*/*\"\n          />\n          <span className={`${files.length >= 5 || isUploading ? 'cursor-not-allowed' : ''}`}>\n            <span className=\"text-primary-main font-medium hover:text-primary-hover\">\n              Click to upload\n            </span>\n            <span className=\"text-neutral-dark\"> or drag and drop</span>\n          </span>\n        </div>\n\n        <p className=\"mt-2 text-xs text-neutral-main\">\n          Any file type accepted • Up to {5 - files.length} more files • {formatFileSize(remainingSize)} remaining\n        </p>\n      </div>\n\n      {error && (\n        <div className=\"p-3 bg-accent-lighter border border-accent-main rounded-lg\">\n          <div className=\"flex items-center text-sm text-accent-main\">\n            <AlertCircle className=\"h-4 w-4 mr-2\" />\n            <span>{error}</span>\n          </div>\n        </div>\n      )}\n\n      {files.length > 0 && (\n        <div className=\"space-y-2\">\n          {files.map((file, index) => (\n            <div key={file.path || file.url || index} className=\"flex items-center justify-between p-3 bg-neutral-lighter rounded-lg\">\n              <div className=\"flex items-center space-x-3 flex-1 min-w-0\">\n                <FileText className=\"h-5 w-5 text-primary-main flex-shrink-0\" />\n                <div className=\"flex-1 min-w-0\">\n                  <p className=\"text-sm font-medium text-neutral-dark truncate\">\n                    {file.name}\n                  </p>\n                  <p className=\"text-xs text-neutral-main\">\n                    {formatFileSize(file.size)}\n                  </p>\n                </div>\n              </div>\n              <button\n                type=\"button\"\n                onClick={() => handleRemove(index)}\n                disabled={isUploading}\n                className={`ml-4 text-neutral-main hover:text-accent-main transition-colors duration-200 ${\n                  isUploading ? 'opacity-50 cursor-not-allowed' : ''\n                }`}\n              >\n                <X className=\"h-4 w-4\" />\n              </button>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}