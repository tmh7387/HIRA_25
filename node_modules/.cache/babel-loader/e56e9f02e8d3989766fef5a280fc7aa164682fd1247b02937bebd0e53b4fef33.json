{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\tmh73\\\\Aviation Synergy\\\\MaXwell AI - General\\\\HIRA_25\\\\src\\\\components\\\\RiskControls.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useRiskMatrixStore } from '../stores/riskMatrixStore';\nimport { calculateRiskRating } from '../utils/riskCalculations';\nimport useProjectStore from '../stores/projectStore';\n\n// Error Alert Component\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ErrorAlert = ({\n  message\n}) => {\n  if (!message) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4 mb-4 bg-red-50 border border-red-200 rounded-lg\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-shrink-0\",\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"h-5 w-5 text-red-400\",\n          viewBox: \"0 0 20 20\",\n          fill: \"currentColor\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            fillRule: \"evenodd\",\n            d: \"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\",\n            clipRule: \"evenodd\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 16,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 15,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 14,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ml-3\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-red-700\",\n          children: message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 20,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 5\n  }, this);\n};\n\n// Loading Spinner Component\n_c = ErrorAlert;\nconst LoadingSpinner = () => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"flex justify-center items-center h-64\",\n  children: /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 29,\n  columnNumber: 3\n}, this);\n_c2 = LoadingSpinner;\nexport default function RiskControls() {\n  _s();\n  const {\n    matrixType\n  } = useRiskMatrixStore();\n  const {\n    currentProject,\n    riskAssessmentData,\n    riskControlsData,\n    setStepData,\n    saveStepData,\n    error,\n    isLoading\n  } = useProjectStore();\n\n  // Use stored assessments if available\n  const assessments = (riskAssessmentData === null || riskAssessmentData === void 0 ? void 0 : riskAssessmentData.assessments) || [];\n\n  // Filter assessments based on risk level\n  const filteredAssessments = assessments.filter(assessment => {\n    if (matrixType === 'ICAO') {\n      return assessment.tolerability !== 'ACCEPTABLE';\n    } else {\n      const riskRating = calculateRiskRating(assessment.likelihood || 0, assessment.impact || 0);\n      return riskRating !== 'Low';\n    }\n  });\n\n  // Initialize form with existing data or create new controls\n  const defaultControls = (riskControlsData === null || riskControlsData === void 0 ? void 0 : riskControlsData.controls) || filteredAssessments.map(assessment => ({\n    consequence: assessment.consequence,\n    consequenceId: assessment.consequenceId,\n    additionalMitigation: '',\n    riskOwner: '',\n    targetDate: '',\n    dateImplemented: ''\n  }));\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    }\n  } = useForm({\n    defaultValues: {\n      controls: defaultControls\n    }\n  });\n  const onFormSubmit = async data => {\n    try {\n      if (!(currentProject !== null && currentProject !== void 0 && currentProject.id)) {\n        throw new Error('No project ID found');\n      }\n\n      // Format the data\n      const formattedData = {\n        projectId: currentProject.id,\n        controls: data.controls.map(control => ({\n          consequence: control.consequence,\n          consequenceId: control.consequenceId,\n          additionalMitigation: control.additionalMitigation || '',\n          riskOwner: control.riskOwner || '',\n          targetDate: control.targetDate || null,\n          dateImplemented: control.dateImplemented || null\n        }))\n      };\n\n      // Save to store\n      const saved = setStepData(4, formattedData);\n      if (!saved) {\n        throw new Error('Failed to save risk controls data');\n      }\n\n      // Save to database\n      const savedToDb = await saveStepData(4);\n      if (!savedToDb) {\n        throw new Error('Failed to save risk controls data to database');\n      }\n\n      // Complete the assessment\n      window.alert('Assessment completed successfully!');\n    } catch (err) {\n      console.error('Error saving risk controls:', err);\n    }\n  };\n  const getRiskIndicator = assessment => {\n    if (matrixType === 'ICAO') {\n      return assessment.tolerability;\n    } else {\n      return calculateRiskRating(assessment.likelihood || 0, assessment.impact || 0);\n    }\n  };\n  const getRiskIndicatorStyle = indicator => {\n    const styles = {\n      // ICAO styles\n      'INTOLERABLE': 'bg-red-200 text-red-800',\n      'TOLERABLE': 'bg-yellow-100 text-yellow-800',\n      // Integrated matrix styles\n      'High': 'bg-red-200 text-red-800',\n      'Moderate': 'bg-orange-200 text-orange-800',\n      'Medium': 'bg-yellow-100 text-yellow-800'\n    };\n    return styles[indicator] || 'bg-gray-100 text-gray-800';\n  };\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 12\n    }, this);\n  }\n  if (!currentProject) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-6 max-w-6xl mx-auto p-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white shadow-md rounded-lg p-6\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-center text-gray-600\",\n          children: \"No project selected. Please select a project from the dashboard.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }, this);\n  }\n  if (filteredAssessments.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-6 max-w-6xl mx-auto p-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white shadow-md rounded-lg p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-gray-800 mb-6\",\n          children: \"Risk Controls\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center py-8 text-gray-600\",\n          children: \"No risks requiring additional controls were identified. All risks are at acceptable/low levels.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Group assessments by event\n  const groupedAssessments = filteredAssessments.reduce((acc, assessment) => {\n    if (!acc[assessment.event]) {\n      acc[assessment.event] = [];\n    }\n    acc[assessment.event].push(assessment);\n    return acc;\n  }, {});\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6 max-w-6xl mx-auto p-6\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white shadow-md rounded-lg p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold text-gray-800 mb-6\",\n        children: \"Risk Controls\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(ErrorAlert, {\n        message: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 19\n      }, this), Object.keys(errors).length > 0 && /*#__PURE__*/_jsxDEV(ErrorAlert, {\n        message: \"Please complete all required fields\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm text-gray-600 mb-6\",\n        children: [\"Showing \", filteredAssessments.length, \" risk\", filteredAssessments.length !== 1 ? 's' : '', \" requiring additional controls.\", matrixType === 'ICAO' ? ' (Excluding Acceptable risks)' : ' (Excluding Low risks)']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit(onFormSubmit),\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-8\",\n          children: [Object.entries(groupedAssessments).map(([event, eventAssessments]) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-50 rounded-lg p-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-xl font-semibold text-gray-800 mb-4\",\n              children: event\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-6\",\n              children: eventAssessments.map((assessment, index) => {\n                const riskIndicator = getRiskIndicator(assessment);\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-white rounded-lg p-4 shadow-sm\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"space-y-4\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                        className: \"font-medium text-gray-700\",\n                        children: \"Hazard\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 204,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-gray-600\",\n                        children: assessment.hazard\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 205,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 203,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                        className: \"font-medium text-gray-700\",\n                        children: \"Consequence\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 209,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-gray-600\",\n                        children: assessment.consequence\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 210,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"hidden\",\n                        ...register(`controls.${index}.consequence`),\n                        defaultValue: assessment.consequence\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 211,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"hidden\",\n                        ...register(`controls.${index}.consequenceId`),\n                        defaultValue: assessment.consequenceId\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 216,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 208,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                        className: \"font-medium text-gray-700\",\n                        children: \"Current Controls\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 224,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-gray-600\",\n                        children: assessment.currentControls\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 225,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 223,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: `inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${getRiskIndicatorStyle(riskIndicator)}`,\n                      children: [\"Risk Level: \", riskIndicator]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 228,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"grid grid-cols-1 gap-4\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                          className: \"block text-sm font-medium text-gray-700\",\n                          children: \"Additional Mitigation Measures\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 234,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                          ...register(`controls.${index}.additionalMitigation`, {\n                            required: true\n                          }),\n                          rows: 3,\n                          className: \"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 235,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 233,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"grid grid-cols-2 gap-4\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                            className: \"block text-sm font-medium text-gray-700\",\n                            children: \"Risk Owner\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 244,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                            type: \"text\",\n                            ...register(`controls.${index}.riskOwner`, {\n                              required: true\n                            }),\n                            className: \"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 245,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 243,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                            className: \"block text-sm font-medium text-gray-700\",\n                            children: \"Target Date\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 253,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                            type: \"date\",\n                            ...register(`controls.${index}.targetDate`, {\n                              required: true\n                            }),\n                            className: \"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 254,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 252,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 242,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 232,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 202,\n                    columnNumber: 25\n                  }, this)\n                }, assessment.uniqueId, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 201,\n                  columnNumber: 23\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 17\n            }, this)]\n          }, event, true, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 15\n          }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-end\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              disabled: isLoading,\n              className: \"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed\",\n              children: isLoading ? 'Saving...' : 'Complete Assessment'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 175,\n    columnNumber: 5\n  }, this);\n}\n_s(RiskControls, \"uYgQAr1d2YHXW1GtccEfHSs3AKM=\", false, function () {\n  return [useRiskMatrixStore, useProjectStore, useForm];\n});\n_c3 = RiskControls;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"ErrorAlert\");\n$RefreshReg$(_c2, \"LoadingSpinner\");\n$RefreshReg$(_c3, \"RiskControls\");","map":{"version":3,"names":["React","useForm","useRiskMatrixStore","calculateRiskRating","useProjectStore","jsxDEV","_jsxDEV","ErrorAlert","message","className","children","viewBox","fill","fillRule","d","clipRule","fileName","_jsxFileName","lineNumber","columnNumber","_c","LoadingSpinner","_c2","RiskControls","_s","matrixType","currentProject","riskAssessmentData","riskControlsData","setStepData","saveStepData","error","isLoading","assessments","filteredAssessments","filter","assessment","tolerability","riskRating","likelihood","impact","defaultControls","controls","map","consequence","consequenceId","additionalMitigation","riskOwner","targetDate","dateImplemented","register","handleSubmit","formState","errors","defaultValues","onFormSubmit","data","id","Error","formattedData","projectId","control","saved","savedToDb","window","alert","err","console","getRiskIndicator","getRiskIndicatorStyle","indicator","styles","length","groupedAssessments","reduce","acc","event","push","Object","keys","onSubmit","entries","eventAssessments","index","riskIndicator","hazard","type","defaultValue","currentControls","required","rows","uniqueId","disabled","_c3","$RefreshReg$"],"sources":["C:/Users/tmh73/Aviation Synergy/MaXwell AI - General/HIRA_25/src/components/RiskControls.jsx"],"sourcesContent":["import React from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useRiskMatrixStore } from '../stores/riskMatrixStore';\nimport { calculateRiskRating } from '../utils/riskCalculations';\nimport useProjectStore from '../stores/projectStore';\n\n// Error Alert Component\nconst ErrorAlert = ({ message }) => {\n  if (!message) return null;\n\n  return (\n    <div className=\"p-4 mb-4 bg-red-50 border border-red-200 rounded-lg\">\n      <div className=\"flex items-center\">\n        <div className=\"flex-shrink-0\">\n          <svg className=\"h-5 w-5 text-red-400\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n            <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clipRule=\"evenodd\" />\n          </svg>\n        </div>\n        <div className=\"ml-3\">\n          <p className=\"text-sm text-red-700\">{message}</p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// Loading Spinner Component\nconst LoadingSpinner = () => (\n  <div className=\"flex justify-center items-center h-64\">\n    <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\n  </div>\n);\n\nexport default function RiskControls() {\n  const { matrixType } = useRiskMatrixStore();\n  const { \n    currentProject,\n    riskAssessmentData,\n    riskControlsData,\n    setStepData,\n    saveStepData,\n    error,\n    isLoading\n  } = useProjectStore();\n  \n  // Use stored assessments if available\n  const assessments = riskAssessmentData?.assessments || [];\n  \n  // Filter assessments based on risk level\n  const filteredAssessments = assessments.filter(assessment => {\n    if (matrixType === 'ICAO') {\n      return assessment.tolerability !== 'ACCEPTABLE';\n    } else {\n      const riskRating = calculateRiskRating(assessment.likelihood || 0, assessment.impact || 0);\n      return riskRating !== 'Low';\n    }\n  });\n\n  // Initialize form with existing data or create new controls\n  const defaultControls = riskControlsData?.controls || \n    filteredAssessments.map(assessment => ({\n      consequence: assessment.consequence,\n      consequenceId: assessment.consequenceId,\n      additionalMitigation: '',\n      riskOwner: '',\n      targetDate: '',\n      dateImplemented: ''\n    }));\n\n  const { register, handleSubmit, formState: { errors } } = useForm({\n    defaultValues: {\n      controls: defaultControls\n    }\n  });\n\n  const onFormSubmit = async (data) => {\n    try {\n      if (!currentProject?.id) {\n        throw new Error('No project ID found');\n      }\n\n      // Format the data\n      const formattedData = {\n        projectId: currentProject.id,\n        controls: data.controls.map(control => ({\n          consequence: control.consequence,\n          consequenceId: control.consequenceId,\n          additionalMitigation: control.additionalMitigation || '',\n          riskOwner: control.riskOwner || '',\n          targetDate: control.targetDate || null,\n          dateImplemented: control.dateImplemented || null\n        }))\n      };\n\n      // Save to store\n      const saved = setStepData(4, formattedData);\n      if (!saved) {\n        throw new Error('Failed to save risk controls data');\n      }\n\n      // Save to database\n      const savedToDb = await saveStepData(4);\n      if (!savedToDb) {\n        throw new Error('Failed to save risk controls data to database');\n      }\n\n      // Complete the assessment\n      window.alert('Assessment completed successfully!');\n    } catch (err) {\n      console.error('Error saving risk controls:', err);\n    }\n  };\n\n  const getRiskIndicator = (assessment) => {\n    if (matrixType === 'ICAO') {\n      return assessment.tolerability;\n    } else {\n      return calculateRiskRating(assessment.likelihood || 0, assessment.impact || 0);\n    }\n  };\n\n  const getRiskIndicatorStyle = (indicator) => {\n    const styles = {\n      // ICAO styles\n      'INTOLERABLE': 'bg-red-200 text-red-800',\n      'TOLERABLE': 'bg-yellow-100 text-yellow-800',\n      // Integrated matrix styles\n      'High': 'bg-red-200 text-red-800',\n      'Moderate': 'bg-orange-200 text-orange-800',\n      'Medium': 'bg-yellow-100 text-yellow-800'\n    };\n    return styles[indicator] || 'bg-gray-100 text-gray-800';\n  };\n\n  if (isLoading) {\n    return <LoadingSpinner />;\n  }\n\n  if (!currentProject) {\n    return (\n      <div className=\"space-y-6 max-w-6xl mx-auto p-6\">\n        <div className=\"bg-white shadow-md rounded-lg p-6\">\n          <p className=\"text-center text-gray-600\">\n            No project selected. Please select a project from the dashboard.\n          </p>\n        </div>\n      </div>\n    );\n  }\n\n  if (filteredAssessments.length === 0) {\n    return (\n      <div className=\"space-y-6 max-w-6xl mx-auto p-6\">\n        <div className=\"bg-white shadow-md rounded-lg p-6\">\n          <h2 className=\"text-2xl font-bold text-gray-800 mb-6\">Risk Controls</h2>\n          <div className=\"text-center py-8 text-gray-600\">\n            No risks requiring additional controls were identified.\n            All risks are at acceptable/low levels.\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // Group assessments by event\n  const groupedAssessments = filteredAssessments.reduce((acc, assessment) => {\n    if (!acc[assessment.event]) {\n      acc[assessment.event] = [];\n    }\n    acc[assessment.event].push(assessment);\n    return acc;\n  }, {});\n\n  return (\n    <div className=\"space-y-6 max-w-6xl mx-auto p-6\">\n      <div className=\"bg-white shadow-md rounded-lg p-6\">\n        <h2 className=\"text-2xl font-bold text-gray-800 mb-6\">Risk Controls</h2>\n\n        {error && <ErrorAlert message={error} />}\n        \n        {Object.keys(errors).length > 0 && (\n          <ErrorAlert message=\"Please complete all required fields\" />\n        )}\n\n        <p className=\"text-sm text-gray-600 mb-6\">\n          Showing {filteredAssessments.length} risk{filteredAssessments.length !== 1 ? 's' : ''} requiring additional controls.\n          {matrixType === 'ICAO' ? \n            ' (Excluding Acceptable risks)' : \n            ' (Excluding Low risks)'}\n        </p>\n\n        <form onSubmit={handleSubmit(onFormSubmit)}>\n          <div className=\"space-y-8\">\n            {Object.entries(groupedAssessments).map(([event, eventAssessments]) => (\n              <div key={event} className=\"bg-gray-50 rounded-lg p-6\">\n                <h3 className=\"text-xl font-semibold text-gray-800 mb-4\">{event}</h3>\n                <div className=\"space-y-6\">\n                  {eventAssessments.map((assessment, index) => {\n                    const riskIndicator = getRiskIndicator(assessment);\n                    return (\n                      <div key={assessment.uniqueId} className=\"bg-white rounded-lg p-4 shadow-sm\">\n                        <div className=\"space-y-4\">\n                          <div>\n                            <h4 className=\"font-medium text-gray-700\">Hazard</h4>\n                            <p className=\"text-gray-600\">{assessment.hazard}</p>\n                          </div>\n\n                          <div>\n                            <h4 className=\"font-medium text-gray-700\">Consequence</h4>\n                            <p className=\"text-gray-600\">{assessment.consequence}</p>\n                            <input \n                              type=\"hidden\" \n                              {...register(`controls.${index}.consequence`)} \n                              defaultValue={assessment.consequence}\n                            />\n                            <input \n                              type=\"hidden\" \n                              {...register(`controls.${index}.consequenceId`)} \n                              defaultValue={assessment.consequenceId}\n                            />\n                          </div>\n\n                          <div>\n                            <h4 className=\"font-medium text-gray-700\">Current Controls</h4>\n                            <p className=\"text-gray-600\">{assessment.currentControls}</p>\n                          </div>\n\n                          <div className={`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${getRiskIndicatorStyle(riskIndicator)}`}>\n                            Risk Level: {riskIndicator}\n                          </div>\n\n                          <div className=\"grid grid-cols-1 gap-4\">\n                            <div>\n                              <label className=\"block text-sm font-medium text-gray-700\">Additional Mitigation Measures</label>\n                              <textarea\n                                {...register(`controls.${index}.additionalMitigation`, { required: true })}\n                                rows={3}\n                                className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500\"\n                              />\n                            </div>\n\n                            <div className=\"grid grid-cols-2 gap-4\">\n                              <div>\n                                <label className=\"block text-sm font-medium text-gray-700\">Risk Owner</label>\n                                <input\n                                  type=\"text\"\n                                  {...register(`controls.${index}.riskOwner`, { required: true })}\n                                  className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500\"\n                                />\n                              </div>\n\n                              <div>\n                                <label className=\"block text-sm font-medium text-gray-700\">Target Date</label>\n                                <input\n                                  type=\"date\"\n                                  {...register(`controls.${index}.targetDate`, { required: true })}\n                                  className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500\"\n                                />\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    );\n                  })}\n                </div>\n              </div>\n            ))}\n\n            <div className=\"flex justify-end\">\n              <button\n                type=\"submit\"\n                disabled={isLoading}\n                className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                {isLoading ? 'Saving...' : 'Complete Assessment'}\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}